<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 4 Pipes | Y2 Analytics Coding Standards</title>
  <meta name="description" content="Coding Standards" />
  <meta name="generator" content="bookdown 0.20 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 4 Pipes | Y2 Analytics Coding Standards" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="Coding Standards" />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 4 Pipes | Y2 Analytics Coding Standards" />
  
  <meta name="twitter:description" content="Coding Standards" />
  



<meta name="date" content="2020-09-28" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="functions.html"/>

<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />











<style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(data-line-number);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Y2 Analytics Coding Standards</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Introduction</a></li>
<li class="chapter" data-level="1" data-path="files.html"><a href="files.html"><i class="fa fa-check"></i><b>1</b> Files</a><ul>
<li class="chapter" data-level="1.1" data-path="files.html"><a href="files.html#file-names"><i class="fa fa-check"></i><b>1.1</b> File Names</a></li>
<li class="chapter" data-level="1.2" data-path="files.html"><a href="files.html#internal-structure"><i class="fa fa-check"></i><b>1.2</b> Internal structure</a><ul>
<li class="chapter" data-level="1.2.1" data-path="files.html"><a href="files.html#sections"><i class="fa fa-check"></i><b>1.2.1</b> Sections</a></li>
<li class="chapter" data-level="1.2.2" data-path="files.html"><a href="files.html#packages"><i class="fa fa-check"></i><b>1.2.2</b> Packages</a></li>
<li class="chapter" data-level="1.2.3" data-path="files.html"><a href="files.html#file-paths"><i class="fa fa-check"></i><b>1.2.3</b> File paths</a></li>
<li class="chapter" data-level="1.2.4" data-path="files.html"><a href="files.html#data-manipulation"><i class="fa fa-check"></i><b>1.2.4</b> Data manipulation</a></li>
<li class="chapter" data-level="1.2.5" data-path="files.html"><a href="files.html#annotation-and-commented-code"><i class="fa fa-check"></i><b>1.2.5</b> Annotation and commented code</a></li>
<li class="chapter" data-level="1.2.6" data-path="files.html"><a href="files.html#indentation"><i class="fa fa-check"></i><b>1.2.6</b> Indentation</a></li>
<li class="chapter" data-level="1.2.7" data-path="files.html"><a href="files.html#function-use"><i class="fa fa-check"></i><b>1.2.7</b> Function use</a></li>
<li class="chapter" data-level="1.2.8" data-path="files.html"><a href="files.html#reproducibility"><i class="fa fa-check"></i><b>1.2.8</b> Reproducibility</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="2" data-path="syntax.html"><a href="syntax.html"><i class="fa fa-check"></i><b>2</b> Syntax</a><ul>
<li class="chapter" data-level="2.1" data-path="syntax.html"><a href="syntax.html#object-names"><i class="fa fa-check"></i><b>2.1</b> Object names</a></li>
<li class="chapter" data-level="2.2" data-path="syntax.html"><a href="syntax.html#spacing"><i class="fa fa-check"></i><b>2.2</b> Spacing</a><ul>
<li class="chapter" data-level="2.2.1" data-path="syntax.html"><a href="syntax.html#commas"><i class="fa fa-check"></i><b>2.2.1</b> Commas</a></li>
<li class="chapter" data-level="2.2.2" data-path="syntax.html"><a href="syntax.html#parentheses"><i class="fa fa-check"></i><b>2.2.2</b> Parentheses</a></li>
<li class="chapter" data-level="2.2.3" data-path="syntax.html"><a href="syntax.html#embracing"><i class="fa fa-check"></i><b>2.2.3</b> Embracing</a></li>
<li class="chapter" data-level="2.2.4" data-path="syntax.html"><a href="syntax.html#infix-operators"><i class="fa fa-check"></i><b>2.2.4</b> Infix operators</a></li>
<li class="chapter" data-level="2.2.5" data-path="syntax.html"><a href="syntax.html#extra-spaces"><i class="fa fa-check"></i><b>2.2.5</b> Extra spaces</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="syntax.html"><a href="syntax.html#function-calls"><i class="fa fa-check"></i><b>2.3</b> Function calls</a><ul>
<li class="chapter" data-level="2.3.1" data-path="syntax.html"><a href="syntax.html#argument-names"><i class="fa fa-check"></i><b>2.3.1</b> Named arguments</a></li>
<li class="chapter" data-level="2.3.2" data-path="syntax.html"><a href="syntax.html#assignment"><i class="fa fa-check"></i><b>2.3.2</b> Assignment</a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="syntax.html"><a href="syntax.html#control-flow"><i class="fa fa-check"></i><b>2.4</b> Control flow</a><ul>
<li class="chapter" data-level="2.4.1" data-path="syntax.html"><a href="syntax.html#indenting"><i class="fa fa-check"></i><b>2.4.1</b> Code blocks</a></li>
<li class="chapter" data-level="2.4.2" data-path="syntax.html"><a href="syntax.html#inline-statements"><i class="fa fa-check"></i><b>2.4.2</b> Inline statements</a></li>
<li class="chapter" data-level="2.4.3" data-path="syntax.html"><a href="syntax.html#implicit-type-coercion"><i class="fa fa-check"></i><b>2.4.3</b> Implicit type coercion</a></li>
<li class="chapter" data-level="2.4.4" data-path="syntax.html"><a href="syntax.html#switch-statements"><i class="fa fa-check"></i><b>2.4.4</b> Switch statements</a></li>
</ul></li>
<li class="chapter" data-level="2.5" data-path="syntax.html"><a href="syntax.html#long-lines"><i class="fa fa-check"></i><b>2.5</b> Long lines</a></li>
<li class="chapter" data-level="2.6" data-path="syntax.html"><a href="syntax.html#semicolons"><i class="fa fa-check"></i><b>2.6</b> Semicolons</a></li>
<li class="chapter" data-level="2.7" data-path="syntax.html"><a href="syntax.html#assignment-1"><i class="fa fa-check"></i><b>2.7</b> Assignment</a></li>
<li class="chapter" data-level="2.8" data-path="syntax.html"><a href="syntax.html#data"><i class="fa fa-check"></i><b>2.8</b> Data</a><ul>
<li class="chapter" data-level="2.8.1" data-path="syntax.html"><a href="syntax.html#character-vectors"><i class="fa fa-check"></i><b>2.8.1</b> Character vectors</a></li>
<li class="chapter" data-level="2.8.2" data-path="syntax.html"><a href="syntax.html#logical-vectors"><i class="fa fa-check"></i><b>2.8.2</b> Logical vectors</a></li>
</ul></li>
<li class="chapter" data-level="2.9" data-path="syntax.html"><a href="syntax.html#comments"><i class="fa fa-check"></i><b>2.9</b> Comments</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="functions.html"><a href="functions.html"><i class="fa fa-check"></i><b>3</b> Functions</a><ul>
<li class="chapter" data-level="3.1" data-path="functions.html"><a href="functions.html#naming"><i class="fa fa-check"></i><b>3.1</b> Naming</a></li>
<li class="chapter" data-level="3.2" data-path="syntax.html"><a href="syntax.html#long-lines"><i class="fa fa-check"></i><b>3.2</b> Long lines</a></li>
<li class="chapter" data-level="3.3" data-path="functions.html"><a href="functions.html#return"><i class="fa fa-check"></i><b>3.3</b> <code>return()</code></a></li>
<li class="chapter" data-level="3.4" data-path="syntax.html"><a href="syntax.html#comments"><i class="fa fa-check"></i><b>3.4</b> Comments</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="pipes.html"><a href="pipes.html"><i class="fa fa-check"></i><b>4</b> Pipes</a><ul>
<li class="chapter" data-level="4.1" data-path="index.html"><a href="index.html#introduction"><i class="fa fa-check"></i><b>4.1</b> Introduction</a></li>
<li class="chapter" data-level="4.2" data-path="pipes.html"><a href="pipes.html#whitespace"><i class="fa fa-check"></i><b>4.2</b> Whitespace</a></li>
<li class="chapter" data-level="4.3" data-path="syntax.html"><a href="syntax.html#long-lines"><i class="fa fa-check"></i><b>4.3</b> Long lines</a></li>
<li class="chapter" data-level="4.4" data-path="pipes.html"><a href="pipes.html#short-pipes"><i class="fa fa-check"></i><b>4.4</b> Short pipes</a></li>
<li class="chapter" data-level="4.5" data-path="pipes.html"><a href="pipes.html#no-arguments"><i class="fa fa-check"></i><b>4.5</b> No arguments</a></li>
<li class="chapter" data-level="4.6" data-path="syntax.html"><a href="syntax.html#assignment"><i class="fa fa-check"></i><b>4.6</b> Assignment</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Y2 Analytics Coding Standards</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="pipes" class="section level1">
<h1><span class="header-section-number">Chapter 4</span> Pipes</h1>
<div id="introduction" class="section level2">
<h2><span class="header-section-number">4.1</span> Introduction</h2>
<p>Use <code>%&gt;%</code> to emphasise a sequence of actions, rather than the object that the actions are being performed on.</p>
<p>Avoid using the pipe when:</p>
<ul>
<li><p>You need to manipulate more than one object at a time. Reserve pipes for a
sequence of steps applied to one primary object.</p></li>
<li><p>There are meaningful intermediate objects that could be given
informative names.</p></li>
</ul>
</div>
<div id="whitespace" class="section level2">
<h2><span class="header-section-number">4.2</span> Whitespace</h2>
<p><code>%&gt;%</code> should always have a space before it, and should usually be followed by a new line. After the first step, each line should be indented by two spaces. This structure makes it easier to add new steps (or rearrange existing steps) and harder to overlook a step.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1-1" data-line-number="1"><span class="co"># Good</span></a>
<a class="sourceLine" id="cb1-2" data-line-number="2">iris <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb1-3" data-line-number="3"><span class="st">  </span><span class="kw">group_by</span>(Species) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb1-4" data-line-number="4"><span class="st">  </span><span class="kw">summarize_if</span>(is.numeric, mean) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb1-5" data-line-number="5"><span class="st">  </span><span class="kw">ungroup</span>() <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb1-6" data-line-number="6"><span class="st">  </span><span class="kw">gather</span>(measure, value, <span class="op">-</span>Species) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb1-7" data-line-number="7"><span class="st">  </span><span class="kw">arrange</span>(value)</a>
<a class="sourceLine" id="cb1-8" data-line-number="8"></a>
<a class="sourceLine" id="cb1-9" data-line-number="9"><span class="co"># Bad</span></a>
<a class="sourceLine" id="cb1-10" data-line-number="10">iris <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">group_by</span>(Species) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">summarize_all</span>(mean) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb1-11" data-line-number="11">ungroup <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">gather</span>(measure, value, <span class="op">-</span>Species) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb1-12" data-line-number="12"><span class="kw">arrange</span>(value)</a></code></pre></div>
</div>
<div id="long-lines" class="section level2">
<h2><span class="header-section-number">4.3</span> Long lines</h2>
<p>If the arguments to a function don’t all fit on one line, put each argument on
its own line and indent:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb2-1" data-line-number="1">iris <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb2-2" data-line-number="2"><span class="st">  </span><span class="kw">group_by</span>(Species) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb2-3" data-line-number="3"><span class="st">  </span><span class="kw">summarise</span>(</a>
<a class="sourceLine" id="cb2-4" data-line-number="4">    <span class="dt">Sepal.Length =</span> <span class="kw">mean</span>(Sepal.Length),</a>
<a class="sourceLine" id="cb2-5" data-line-number="5">    <span class="dt">Sepal.Width =</span> <span class="kw">mean</span>(Sepal.Width),</a>
<a class="sourceLine" id="cb2-6" data-line-number="6">    <span class="dt">Species =</span> <span class="kw">n_distinct</span>(Species)</a>
<a class="sourceLine" id="cb2-7" data-line-number="7">  )</a></code></pre></div>
</div>
<div id="short-pipes" class="section level2">
<h2><span class="header-section-number">4.4</span> Short pipes</h2>
<p>A one-step pipe can stay on one line, but unless you plan to expand it later on, you should consider rewriting it to a regular function call.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb3-1" data-line-number="1"><span class="co"># Good</span></a>
<a class="sourceLine" id="cb3-2" data-line-number="2">iris <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">arrange</span>(Species)</a>
<a class="sourceLine" id="cb3-3" data-line-number="3"></a>
<a class="sourceLine" id="cb3-4" data-line-number="4">iris <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb3-5" data-line-number="5"><span class="st">  </span><span class="kw">arrange</span>(Species)</a>
<a class="sourceLine" id="cb3-6" data-line-number="6"></a>
<a class="sourceLine" id="cb3-7" data-line-number="7"><span class="kw">arrange</span>(iris, Species)</a></code></pre></div>
<p>Sometimes it’s useful to include a short pipe as an argument to a function in a
longer pipe. Carefully consider whether the code is more readable with a short
inline pipe (which doesn’t require a lookup elsewhere) or if it’s better to move
the code outside the pipe and give it an evocative name.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb4-1" data-line-number="1"><span class="co"># Good</span></a>
<a class="sourceLine" id="cb4-2" data-line-number="2">x <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb4-3" data-line-number="3"><span class="st">  </span><span class="kw">select</span>(a, b, w) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb4-4" data-line-number="4"><span class="st">  </span><span class="kw">left_join</span>(y <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">select</span>(a, b, v), <span class="dt">by =</span> <span class="kw">c</span>(<span class="st">&quot;a&quot;</span>, <span class="st">&quot;b&quot;</span>))</a>
<a class="sourceLine" id="cb4-5" data-line-number="5"></a>
<a class="sourceLine" id="cb4-6" data-line-number="6"><span class="co"># Better</span></a>
<a class="sourceLine" id="cb4-7" data-line-number="7">x_join &lt;-<span class="st"> </span>x <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">select</span>(a, b, w)</a>
<a class="sourceLine" id="cb4-8" data-line-number="8">y_join &lt;-<span class="st"> </span>y <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">select</span>(a, b, v)</a>
<a class="sourceLine" id="cb4-9" data-line-number="9"><span class="kw">left_join</span>(x_join, y_join, <span class="dt">by =</span> <span class="kw">c</span>(<span class="st">&quot;a&quot;</span>, <span class="st">&quot;b&quot;</span>))</a></code></pre></div>
</div>
<div id="no-arguments" class="section level2">
<h2><span class="header-section-number">4.5</span> No arguments</h2>
<p>magrittr allows you to omit <code>()</code> on functions that don’t have arguments. Avoid this feature.</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb5-1" data-line-number="1"><span class="co"># Good</span></a>
<a class="sourceLine" id="cb5-2" data-line-number="2">x <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb5-3" data-line-number="3"><span class="st">  </span><span class="kw">unique</span>() <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb5-4" data-line-number="4"><span class="st">  </span><span class="kw">sort</span>()</a>
<a class="sourceLine" id="cb5-5" data-line-number="5"></a>
<a class="sourceLine" id="cb5-6" data-line-number="6"><span class="co"># Bad</span></a>
<a class="sourceLine" id="cb5-7" data-line-number="7">x <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb5-8" data-line-number="8"><span class="st">  </span>unique <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb5-9" data-line-number="9"><span class="st">  </span>sort</a></code></pre></div>
</div>
<div id="assignment" class="section level2">
<h2><span class="header-section-number">4.6</span> Assignment</h2>
<p>Acceptable forms of assignment include:</p>
<ul>
<li><p>Variable name and assignment on the same line (preferred method):</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb6-1" data-line-number="1">iris_long &lt;-<span class="st"> </span>iris <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb6-2" data-line-number="2"><span class="st">  </span><span class="kw">gather</span>(measure, value, <span class="op">-</span>Species) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb6-3" data-line-number="3"><span class="st">  </span><span class="kw">arrange</span>(<span class="op">-</span>value)</a></code></pre></div></li>
<li><p>Variable name and assignment on separate lines:</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb7-1" data-line-number="1">iris_long &lt;-</a>
<a class="sourceLine" id="cb7-2" data-line-number="2"><span class="st">  </span>iris <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb7-3" data-line-number="3"><span class="st">  </span><span class="kw">gather</span>(measure, value, <span class="op">-</span>Species) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb7-4" data-line-number="4"><span class="st">  </span><span class="kw">arrange</span>(<span class="op">-</span>value)</a></code></pre></div></li>
</ul>
<p>The magrittr package provides the <code>%&lt;&gt;%</code> operator as a shortcut for modifying an object in place. Avoid this operator.</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb8-1" data-line-number="1"><span class="co"># Good</span></a>
<a class="sourceLine" id="cb8-2" data-line-number="2">x &lt;-<span class="st"> </span>x <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb8-3" data-line-number="3"><span class="st">  </span><span class="kw">abs</span>() <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb8-4" data-line-number="4"><span class="st">  </span><span class="kw">sort</span>()</a>
<a class="sourceLine" id="cb8-5" data-line-number="5">  </a>
<a class="sourceLine" id="cb8-6" data-line-number="6"><span class="co"># Bad</span></a>
<a class="sourceLine" id="cb8-7" data-line-number="7">x <span class="op">%&lt;&gt;%</span></a>
<a class="sourceLine" id="cb8-8" data-line-number="8"><span class="st">  </span><span class="kw">abs</span>() <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb8-9" data-line-number="9"><span class="st">  </span><span class="kw">sort</span>()</a></code></pre></div>
<p>Multiple piping steps should be used over repeatedly reassigning a dataset.</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb9-1" data-line-number="1"><span class="co"># Good</span></a>
<a class="sourceLine" id="cb9-2" data-line-number="2">responses &lt;-<span class="st"> </span>responses <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb9-3" data-line-number="3"><span class="st">  </span><span class="kw">filter</span>(Q5 <span class="op">==</span><span class="st"> </span><span class="dv">1</span>) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb9-4" data-line-number="4"><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">new_variable =</span> <span class="kw">case_when</span>(</a>
<a class="sourceLine" id="cb9-5" data-line-number="5">    <span class="co"># do something</span></a>
<a class="sourceLine" id="cb9-6" data-line-number="6">  ))</a>
<a class="sourceLine" id="cb9-7" data-line-number="7"></a>
<a class="sourceLine" id="cb9-8" data-line-number="8"><span class="co"># Bad</span></a>
<a class="sourceLine" id="cb9-9" data-line-number="9">responses &lt;-<span class="st"> </span>responses <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb9-10" data-line-number="10"><span class="st">  </span><span class="kw">filter</span>(Q5 <span class="op">==</span><span class="st"> </span><span class="dv">1</span>)</a>
<a class="sourceLine" id="cb9-11" data-line-number="11"></a>
<a class="sourceLine" id="cb9-12" data-line-number="12">responses &lt;-<span class="st"> </span>responses <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb9-13" data-line-number="13"><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">new_variable =</span> <span class="kw">case_when</span>(</a>
<a class="sourceLine" id="cb9-14" data-line-number="14">    <span class="co"># do something</span></a>
<a class="sourceLine" id="cb9-15" data-line-number="15">  ))</a></code></pre></div>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="functions.html" class="navigation navigation-prev navigation-unique" aria-label="Previous page"><i class="fa fa-angle-left"></i></a>

    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
